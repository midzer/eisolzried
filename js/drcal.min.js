!function(){function e(e,t,n){var a;try{a=new CustomEvent(e,{detail:n})}catch(r){a=document.createEvent("CustomEvent"),a.initCustomEvent(e,!0,!0,n)}t.dispatchEvent(a)}function t(e){var t=e.toString();return new Array(3-t.length).join("0")+t}function n(e){return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())}function a(t,a){for(var r=t,d=document.createElement("tr"),o=1;7>=o;o++){var i=document.createElement("td");i.setAttribute("date",n(r)),i.setAttribute("year",r.getFullYear()),i.setAttribute("month",r.getMonth()+1),i.setAttribute("day",r.getDate()),d.appendChild(i),e("drcal.renderDay",a,{element:i,date:r}),r=new Date(r),r.setDate(r.getDate()+1)}return d}window.drcal=function(t){var r=void 0!==t&&"weekdays"in t?t.weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=void 0!==t&&"months"in t?t.months:["January","February","March","April","May","June","July","August","September","October","November","December"],o=void 0!==t&&"startDay"in t?t.startDay:0,i=[],l=document.createElement("button");l.className="prev";var c=document.createElement("button");c.className="next";var u=document.createElement("span");u.className="monthyear";var h=document.createElement("th");h.colSpan=7,h.appendChild(l),h.appendChild(u),h.appendChild(c);for(var m=document.createElement("tr"),s=0;s<r.length;s++){var g=document.createElement("th");g.appendChild(document.createTextNode(r[(s+o)%r.length])),m.appendChild(g)}var v=document.createElement("table");v.className="calendar",v.createTHead().insertRow().appendChild(h),v.createTHead().appendChild(m);var y=document.createElement("tbody");return v.appendChild(y),v.year=function(){return v.getAttribute("year")?parseInt(v.getAttribute("year"),10):null},v.month=function(){return v.getAttribute("month")?parseInt(v.getAttribute("month"),10):null},v.findCell=function(e){return v.querySelector('[date="'+n(e)+'"]')},v.changeMonth=function(t){var r=new Date(t.getFullYear(),t.getMonth(),1),l=r.getDay()-o;0>l&&(l+=7);var c=new Date(r);c.setDate(c.getDate()-l);for(var h=c,m=new Date,s=new Date(m.getFullYear(),m.getMonth(),m.getDate()),g=t.getFullYear(),p=t.getMonth();y.firstChild;)y.removeChild(y.firstChild);do{var f=i[n(h)];f||(f=a(h,v),i[n(h)]=f);for(var C=0;C<f.children.length;C++)f.children[C].className=f.children[C].getAttribute("month")==p+1?"current":"extra",f.children[C].className+=f.children[C].getAttribute("date")===n(s)?" today":"";v.tBodies[0].appendChild(f),h=new Date(h),h.setDate(h.getDate()+7)}while(h.getMonth()===t.getMonth());for(v.setAttribute("year",g),v.setAttribute("month",p+1);u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(d[p]+" "+g)),e("drcal.monthChange",v,{})},l.addEventListener("click",function(){v.changeMonth(new Date(v.year()-(1===v.month()?1:0),1===v.month()?11:v.month()-2,1))}),c.addEventListener("click",function(){v.changeMonth(new Date(v.year()+(12===v.month()?1:0),12===v.month()?0:v.month(),1))}),v}}();